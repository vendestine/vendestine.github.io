---
title: Visual Studio
slug: vistual-studio
sidebar_position: 0
hide: false
---


# Visual Studio

## VS项目的创建与编译

创建一个vs项目的时候，提供了很多种选项，例如控制台项目，windows桌面应用程序。

它们之间的区别：

1. 提供的初始代码不同 （很容易理解，功能不同，提供的初始代码也会不同）
2. 使用的链接库不同（重点）

这里演示一下VS中，如何查看和更改链接库:

<img src="/assets/A1bqbOCixoYF5FxJsamcgmdWnYd.png" src-width="1904" src-height="992"/>

VS的解决方案下可以包含多个项目，vs是以文件组成的项目为最小编译单元的，也就是说vs无法单独编译一个源文件。

## VS项目调试

vs项目调试方法：

在想要停止的语句的上打断点，然后调试（快捷键 F5），程序机会在断点行执行前停下。

需要知道的是，为了支持调试功能，编译和链接必须添加很多额外的东西，所以使用 debug功能，必须以调试的方式进行编译；直接运行（快捷键 CTRL + F5）是无法调试的。

## VS解决方案，项目，目录结构详解

一个正常的VS项目目录结构如下

<img src="/assets/QbcCbzpxQoiOv4x4nl6ch6YznIc.png" src-width="870" src-height="432"/>

我把每一个文件都通过记事本打开看了一遍，总结了这些文件的作用。

```bash
项目配置文件
demo1.vcxproj           项目配置文件，添加/导入项目时，就是使用这个文件
demo1.vcxproj.filters   项目配置目录文件，里面配置了IDE中项目的目录信息
demo1.vcxproj.user      项目用户配置文件，用户的自定义配置，一般把项目给第三方的时候，删除这个文件

编译文件
Debug文件夹              存储32位平台下的Debug模式下编译后的文件
Release文件夹            存储32位平台下的Release模式下编译后的文件
x64文件                 存储64位平台下的编译文件，里面还有Debug，Release文件夹，分别存储不同模式下编译后的文件

相关源码
.cpp 源文件
.h   头文件
```

一个正常的VS解决方案的目录结构如下

<img src="/assets/BpHebOTiFoZPO0xfOvgcst7Vn1b.png" src-width="870" src-height="432"/>

```bash
解决方案的配置文件
.vs文件夹         解决方案中的一些详细配置信息
demo1.sln        解决方案的配置文件，打开解决方案时，使用这个文件

项目
demo1            解决方案中的每个项目对应每个文件夹

编译文件
Debug, Release,x64  这些与项目结构类似，存放不同平台不同模式下编译后的文件
```

## VS 项目重命名

VS项目的重命名，如果直接在IDE中重命名项目，项目目录中的配置文件，编译文件，以及项目本身的名字是不会更改的，这不是我们想要的，所以以下给出项目真正重命名的方法：

这里先说一下卸载项目和移除项目的区别：

卸载项目：解决方案中卸载项目后，解决方案中显示项目已卸载，生成解决方案的时候不会编译这个项目；之后我们只要不改变项目目录名称，以及项目配置文件名称，我们还是可以直接在IDE中重新加载进来的；

移除项目：解决方案中直接将项目排除，排除后解决方案中看不到该项目，不能在IDE中重新加载了；只能通过添加新项目的方式，将项目重新添加进来；

重命名项目：

1. IDE中移除项目
2. 将项目目录，项目配置文件（.vcxproj文件，.vcxproj.filters文件） 重命名为新项目名称
3. 删除编译文件（Debug文件夹，x86文件夹），项目用户配置文件（.vcxproj.user文件），保留相关源码（.h，.cpp文件）
4. IDE中重新添加项目，重新生成

重命名项目可能遇到的问题：

IDE中重命名项目，未将对象引用设置到对象的实例，说明解决方案没有同步，把解决方案下的.vs文件夹删掉，然后再重新打开解决方案，重命名项目；

## VS常用快捷键

注释/取消注释：CTRL + K, CTRL + C/U；

代码格式化：CTRL + K, CTRL + E；

